const d={hp:"HP",attack:"Ataque",defense:"Defensa","special-attack":"Ataque Especial","special-defense":"Defensa Especial",speed:"Velocidad"},m=1025,h="https://pokeapi.co/api/v2/pokemon/",r=new Map;function k(){try{const t=localStorage.getItem("qkk-cache");if(t){const s=JSON.parse(t);for(const a of Object.keys(s))r.set(Number(a),s[a])}}catch{}}function u(t){try{const s=localStorage.getItem("qkk-cache"),a=s?JSON.parse(s):{};a[String(t.id)]=t,localStorage.setItem("qkk-cache",JSON.stringify(a))}catch{}}async function w(t){if(r.has(t))return r.get(t);const s=await fetch(`${h}${t}`);if(!s.ok)throw new Error(`PokeAPI ${t} -> ${s.status}`);const a=await s.json(),e=o=>{var c;return((c=a.stats.find(i=>i.stat.name===o))==null?void 0:c.base_stat)??0},n={id:t,name:a.name,sprite:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${t}.png`,stats:{hp:e("hp"),attack:e("attack"),defense:e("defense"),"special-attack":e("special-attack"),"special-defense":e("special-defense"),speed:e("speed")},abilities:a.abilities};return r.set(t,n),u(n),n}async function P(t){const s=await fetch(`${h}${t.toLowerCase()}`);if(!s.ok)throw new Error(`PokeAPI ${t} -> ${s.status}`);const a=await s.json(),e=o=>{var c;return((c=a.stats.find(i=>i.stat.name===o))==null?void 0:c.base_stat)??0};return{id:a.id,name:a.name,sprite:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${a.id}.png`,stats:{hp:e("hp"),attack:e("attack"),defense:e("defense"),"special-attack":e("special-attack"),"special-defense":e("special-defense"),speed:e("speed")},abilities:a.abilities}}async function b(){const t=await fetch("https://pokeapi.co/api/v2/pokemon?limit=1302");if(!t.ok)throw new Error(`PokeAPI fetch all failed -> ${t.status}`);return(await t.json()).results.map(a=>a.name.charAt(0).toUpperCase()+a.name.slice(1))}let p=null,f=null;async function g(){if(f)return f;const t=await fetch("https://pokeapi.co/api/v2/move?limit=918");if(!t.ok)throw new Error(`PokeAPI fetch all moves failed -> ${t.status}`);const a=(await t.json()).results,e=new Map;return await Promise.all(a.map(async n=>{const o=await fetch(n.url);if(o.ok){const i=(await o.json()).names.find(l=>l.language.name==="es");i&&e.set(n.name,i.name)}})),f=e,e}async function A(){if(p)return p;const t=await fetch("https://pokeapi.co/api/v2/ability?limit=367");if(!t.ok)throw new Error(`PokeAPI fetch all abilities failed -> ${t.status}`);const a=(await t.json()).results,e=new Map;return await Promise.all(a.map(async n=>{const o=await fetch(n.url);if(o.ok){const i=(await o.json()).names.find(l=>l.language.name==="es");i&&e.set(n.name,i.name)}})),p=e,e}function y(t){let s=1;do s=Math.floor(Math.random()*m)+1;while(s===t);return s}k();export{d as S,b as a,A as b,g as c,P as d,w as f,y as r};
