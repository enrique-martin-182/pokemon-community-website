const g={hp:"HP",attack:"Ataque",defense:"Defensa","special-attack":"Ataque Especial","special-defense":"Defensa Especial",speed:"Velocidad"},u=1025,m="https://pokeapi.co/api/v2/pokemon/";async function P(t){var o;const s=t.toLowerCase().replace(/ /g,"-"),e=await fetch(`https://pokeapi.co/api/v2/move/${s}`);if(!e.ok)throw new Error(`PokeAPI fetch move details failed for ${t} -> ${e.status}`);const a=await e.json(),n={physical:"Physical",special:"Special",status:"Status"};return{name:a.name,type:a.type.name.charAt(0).toUpperCase()+a.type.name.slice(1),category:n[a.damage_class.name]||"Status",power:a.power,accuracy:a.accuracy,description:((o=a.flavor_text_entries.find(i=>i.language.name==="es"))==null?void 0:o.flavor_text)||"No description available."}}const l=new Map;function d(){try{const t=localStorage.getItem("qkk-cache");if(t){const s=JSON.parse(t);for(const e of Object.keys(s))l.set(Number(e),s[e])}}catch{}}function w(t){try{const s=localStorage.getItem("qkk-cache"),e=s?JSON.parse(s):{};e[String(t.id)]=t,localStorage.setItem("qkk-cache",JSON.stringify(e))}catch{}}async function b(t){if(l.has(t))return l.get(t);const s=await fetch(`${m}${t}`);if(!s.ok)throw new Error(`PokeAPI ${t} -> ${s.status}`);const e=await s.json(),a=o=>{var i;return((i=e.stats.find(c=>c.stat.name===o))==null?void 0:i.base_stat)??0},n={id:t,name:e.name,sprite:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${t}.png`,stats:{hp:a("hp"),attack:a("attack"),defense:a("defense"),"special-attack":a("special-attack"),"special-defense":a("special-defense"),speed:a("speed")},abilities:e.abilities};return l.set(t,n),w(n),n}async function A(t){const s=await fetch(`${m}${t.toLowerCase()}`);if(!s.ok)throw new Error(`PokeAPI ${t} -> ${s.status}`);const e=await s.json(),a=o=>{var i;return((i=e.stats.find(c=>c.stat.name===o))==null?void 0:i.base_stat)??0};return{id:e.id,name:e.name,sprite:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${e.id}.png`,stats:{hp:a("hp"),attack:a("attack"),defense:a("defense"),"special-attack":a("special-attack"),"special-defense":a("special-defense"),speed:a("speed")},abilities:e.abilities}}async function v(){const t=await fetch("https://pokeapi.co/api/v2/pokemon?limit=1302");if(!t.ok)throw new Error(`PokeAPI fetch all failed -> ${t.status}`);return(await t.json()).results.map(e=>e.name.charAt(0).toUpperCase()+e.name.slice(1))}let p=null,f=null;async function $(){if(f)return f;const t=await fetch("https://pokeapi.co/api/v2/move?limit=918");if(!t.ok)throw new Error(`PokeAPI fetch all moves failed -> ${t.status}`);const e=(await t.json()).results,a=new Map,n=20;for(let o=0;o<e.length;o+=n){const i=e.slice(o,o+n);await Promise.all(i.map(async c=>{const r=await fetch(c.url);if(r.ok){const h=(await r.json()).names.find(k=>k.language.name==="es");h&&a.set(c.name,h.name)}}))}return f=a,a}async function I(){if(p)return p;const t=await fetch("https://pokeapi.co/api/v2/ability?limit=367");if(!t.ok)throw new Error(`PokeAPI fetch all abilities failed -> ${t.status}`);const e=(await t.json()).results,a=new Map;return await Promise.all(e.map(async n=>{const o=await fetch(n.url);if(o.ok){const c=(await o.json()).names.find(r=>r.language.name==="es");c&&a.set(n.name,c.name)}})),p=a,a}function S(t){let s=1;do s=Math.floor(Math.random()*u)+1;while(s===t);return s}d();export{g as S,v as a,I as b,$ as c,A as d,P as e,b as f,S as r};
